[{"categories":["æŠ€æœ¯åˆ†äº«"],"content":" å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Vue 3ï¼Œå¹¶ä¸”è¿˜åœ¨çº ç»“äºçŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œé‚£ä¹ˆè¯·åœä¸‹è„šæ­¥ï¼Œè®¤è¯†ä¸€ä¸‹ Piniaã€‚ä½œä¸º Vuex çš„ä¸‹ä¸€ä»£æ›¿ä»£è€…ï¼ŒPinia ç”± Vue æ ¸å¿ƒå›¢é˜Ÿæˆå‘˜äº²è‡ªæ“åˆ€ï¼Œå¹¶å·²æˆä¸º Vue 3 å®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†åº“ã€‚å®ƒä»¥å…¶æƒŠäººçš„ç®€æ´æ€§ã€å®Œæ•´çš„ TypeScript æ”¯æŒå’Œç›´è§‚çš„è®¾è®¡ç†å¿µï¼Œæ­£åœ¨è¿…é€Ÿèµ¢å¾—å¼€å‘è€…çš„é’çã€‚ æœ¬æ–‡å°†å¸¦ä½ å…¨é¢äº†è§£ Piniaï¼Œä»æ ¸å¿ƒæ¦‚å¿µåˆ°é«˜çº§æŠ€å·§ï¼Œè®©ä½ è½»æ¾ä¸Šæ‰‹ï¼Œå¹¶åœ¨é¡¹ç›®ä¸­å‘æŒ¥å…¶æœ€å¤§å¨åŠ›ã€‚ ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:0:0","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© Piniaï¼Ÿå‘Šåˆ« Vuex çš„ç¹ç ç›¸æ¯”äº Vuexï¼ŒPinia å¸¦æ¥äº†è®¸å¤šä»¤äººæŒ¯å¥‹çš„æ”¹è¿›ï¼š å¤©ç”Ÿ TypeScript æ”¯æŒï¼šæ— éœ€å¤æ‚çš„ç±»å‹å®šä¹‰ï¼Œäº«å—å®Œç¾çš„è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ¨æ–­ã€‚ æè‡´ç®€æ´çš„ APIï¼šå‘Šåˆ« mutationsï¼Actions æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥æ“ä½œï¼Œä»£ç æ›´ç›´è§‚ï¼Œå¿ƒæ™ºè´Ÿæ‹…æ›´å°ã€‚ æ‰å¹³åŒ–çš„æ¨¡å—è®¾è®¡ï¼šæ¯ä¸ª Store éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œå¤©ç„¶å…·å¤‡æ¨¡å—åŒ–èƒ½åŠ›ï¼ŒStore ä¹‹é—´è°ƒç”¨éå¸¸ç®€å•ã€‚ å¼ºå¤§çš„ DevTools æ”¯æŒï¼šå®Œç¾é›†æˆ Vue DevToolsï¼Œæ— è®ºæ˜¯ state å˜åŒ–è·Ÿè¸ªè¿˜æ˜¯æ—¶é—´æ—…è¡Œè°ƒè¯•ï¼Œéƒ½æ˜“å¦‚åæŒã€‚ è½»é‡ä¸é«˜æ•ˆï¼šä½“ç§¯éå¸¸å°ï¼Œä¸”ç»è¿‡ä¼˜åŒ–ï¼Œå¯¹æ€§èƒ½å½±å“å¾®ä¹å…¶å¾®ã€‚ ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:1:0","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"äºŒã€Pinia çš„æ ¸å¿ƒä¸‰å‰‘å®¢ï¼šState, Getters, Actions ç†è§£ Piniaï¼Œåªéœ€æŒæ¡å®ƒçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚æˆ‘ä»¬å¯ä»¥ç”¨ Vue ç»„ä»¶çš„æ¦‚å¿µæ¥ç±»æ¯”ï¼š stateï¼šç›¸å½“äºç»„ä»¶çš„ dataï¼Œæ˜¯ Store çš„æ•°æ®æºï¼Œå­˜å‚¨ç€æœ€æ ¸å¿ƒçš„çŠ¶æ€ã€‚ gettersï¼šç›¸å½“äºç»„ä»¶çš„ computedï¼Œæ˜¯åŸºäº state æ´¾ç”Ÿå‡ºçš„è®¡ç®—å±æ€§ï¼Œå½“ä¾èµ–çš„ state å˜åŒ–æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ã€‚ actionsï¼šç›¸å½“äºç»„ä»¶çš„ methodsï¼Œç”¨äºå°è£…ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥ä¿®æ”¹ stateã€‚å®ƒæ—¢å¯ä»¥å¤„ç†åŒæ­¥é€»è¾‘ï¼Œä¹Ÿå¯ä»¥å¤„ç†å¼‚æ­¥é€»è¾‘ï¼ˆå¦‚ API è¯·æ±‚ï¼‰ã€‚ ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:2:0","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ä¸‰ã€Pinia å¿«é€Ÿä¸Šæ‰‹ è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç»å…¸çš„è®¡æ•°å™¨æ¡ˆä¾‹ï¼Œæ„Ÿå— Pinia çš„é­…åŠ›ã€‚ ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:3:0","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¸æŒ‚è½½ # ä½¿ç”¨ npm æˆ– yarn å®‰è£… npm install pinia # yarn add pinia åœ¨ä½ çš„ main.ts (æˆ– main.js) ä¸­å¼•å…¥å¹¶ä½¿ç”¨å®ƒã€‚ import { createApp } from 'vue' import { createPinia } from 'pinia' import App from './App.vue' const app = createApp(App) // åˆ›å»º Pinia å®ä¾‹å¹¶æŒ‚è½½ app.use(createPinia()) app.mount('#app') ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:3:1","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ç¬¬äºŒæ­¥ï¼šå®šä¹‰ä½ çš„ç¬¬ä¸€ä¸ª Store åœ¨ src/stores ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª counter.ts æ–‡ä»¶ã€‚ import { defineStore } from 'pinia' // ä½¿ç”¨ defineStore å®šä¹‰ä¸€ä¸ª store // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ store çš„å”¯ä¸€ IDï¼ŒPinia ç”¨å®ƒæ¥è¿æ¥ DevTools export const useCounterStore = defineStore('counter', { // state: å®šä¹‰çŠ¶æ€çš„åœ°æ–¹ï¼Œå¿…é¡»æ˜¯å‡½æ•°å½¢å¼ä»¥é¿å…æœåŠ¡ç«¯æ¸²æŸ“çš„äº¤å‰è¯·æ±‚æ±¡æŸ“ state: () =\u003e ({ count: 0, name: 'Pinia' }), // getters: ç±»ä¼¼è®¡ç®—å±æ€§ getters: { // æ¥æ”¶ state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•° doubleCount: (state) =\u003e state.count * 2, // ä¹Ÿå¯ä»¥é€šè¿‡ this è®¿é—® store å®ä¾‹çš„å…¶ä»–å±æ€§ï¼Œä½†éœ€è¦æ˜¾å¼å®šä¹‰è¿”å›ç±»å‹ greeting(): string { return `Hello, ${this.name}! My double count is ${this.doubleCount}.` } }, // actions: ç±»ä¼¼æ–¹æ³• actions: { increment() { // åœ¨ action ä¸­å¯ä»¥ç›´æ¥é€šè¿‡ this ä¿®æ”¹ state this.count++ }, async incrementAsync() { // æ”¯æŒå¼‚æ­¥æ“ä½œ await new Promise(resolve =\u003e setTimeout(resolve, 1000)) this.increment() // å¯ä»¥ç›´æ¥è°ƒç”¨å…¶ä»– action } } }) ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:3:2","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ç¬¬ä¸‰æ­¥ï¼šåœ¨ç»„ä»¶ä¸­ä¼˜é›…åœ°ä½¿ç”¨ åœ¨ä»»ä½• Vue ç»„ä»¶ä¸­ï¼Œä½ éƒ½å¯ä»¥è½»æ¾åœ°è°ƒç”¨ Storeã€‚ \u003ctemplate\u003e \u003cdiv\u003e \u003cp\u003eCount: {{ counterStore.count }}\u003c/p\u003e \u003cp\u003eDouble Count: {{ counterStore.doubleCount }}\u003c/p\u003e \u003cp\u003e{{ counterStore.greeting }}\u003c/p\u003e \u003cbutton @click=\"counterStore.increment\"\u003eIncrement\u003c/button\u003e \u003cbutton @click=\"counterStore.incrementAsync\"\u003eIncrement Async\u003c/button\u003e \u003c/div\u003e \u003c/template\u003e \u003cscript setup lang=\"ts\"\u003e import { useCounterStore } from './stores/counter' // åœ¨ setup ä¸­è°ƒç”¨ useStore() å‡½æ•°å³å¯è·å– store å®ä¾‹ const counterStore = useCounterStore() \u003c/script\u003e ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:3:3","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"å››ã€Pinia è¿›é˜¶æŠ€å·§ ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:4:0","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"4.1 å¤šç§å§¿åŠ¿ä¿®æ”¹ State Pinia æä¾›äº†å¤šç§çµæ´»çš„æ–¹å¼æ¥ä¿®æ”¹çŠ¶æ€ï¼š // æ–¹å¼1ï¼šæœ€ç›´æ¥çš„ä¿®æ”¹ counterStore.count++ // æ–¹å¼2ï¼šé€šè¿‡ actionï¼ˆæ¨èï¼Œä¾¿äºé€»è¾‘å°è£…ï¼‰ counterStore.increment() // æ–¹å¼3ï¼šä½¿ç”¨ $patch æ‰¹é‡ä¿®æ”¹ï¼ˆå¯¹è±¡å½¢å¼ï¼Œæ€§èƒ½æ›´ä¼˜ï¼‰ counterStore.$patch({ count: counterStore.count + 2, name: 'New Name' }) // æ–¹å¼4ï¼šä½¿ç”¨ $patch æ‰¹é‡ä¿®æ”¹ï¼ˆå‡½æ•°å½¢å¼ï¼Œé€‚ç”¨äºå¤æ‚é€»è¾‘ï¼‰ counterStore.$patch((state) =\u003e { state.count += 3 state.name = 'Updated Name' }) ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:4:1","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"4.2 çŠ¶æ€æŒä¹…åŒ– æƒ³è®©ç”¨æˆ·åˆ·æ–°é¡µé¢åæ•°æ®ä¾ç„¶å­˜åœ¨ï¼Ÿä½¿ç”¨ pinia-plugin-persistedstate æ’ä»¶å³å¯è½»æ¾å®ç°ã€‚ npm install pinia-plugin-persistedstate åœ¨ main.ts ä¸­æ³¨å†Œæ’ä»¶ï¼š import { createPinia } from 'pinia' import piniaPluginPersistedstate from 'pinia-plugin-persistedstate' const pinia = createPinia() pinia.use(piniaPluginPersistedstate) // æ³¨å†Œæ’ä»¶ // ... app.use(pinia) åœ¨éœ€è¦æŒä¹…åŒ–çš„ Store ä¸­å¼€å¯ persist é€‰é¡¹ï¼š export const useCounterStore = defineStore('counter', { state: () =\u003e ({ count: 0 }), // å¼€å¯æŒä¹…åŒ–ï¼Œé»˜è®¤å­˜å‚¨åœ¨ localStorage persist: true }) ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:4:2","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"4.3 Store é—´çš„é€šè®¯ åœ¨ Pinia ä¸­ï¼ŒStore ä¹‹é—´çš„è°ƒç”¨å°±è·Ÿæ™®é€šå‡½æ•°è°ƒç”¨ä¸€æ ·ç®€å•ã€‚ // stores/user.ts import { defineStore } from 'pinia' import { useCounterStore } from './counter' // ç›´æ¥å¼•å…¥ counter store export const useUserStore = defineStore('user', { actions: { login() { console.log('User logged in!') // è·å– counter store å®ä¾‹å¹¶è°ƒç”¨å®ƒçš„ action const counterStore = useCounterStore() counterStore.increment() } } }) ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:4:3","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"äº”ã€Pinia vs. Vuexï¼šç‹è€…ä¹‹äº‰ ç‰¹æ€§ Pinia Vuex (4.x) Mutations æ— ï¼ŒActions ç›´æ¥ä¿®æ”¹ State æœ‰ï¼Œå¿…é¡»é€šè¿‡ Mutations ä¿®æ”¹ State TypeScript åŸç”Ÿå®Œç¾æ”¯æŒï¼Œæ— éœ€é¢å¤–é…ç½® éœ€è¦å¤æ‚çš„ç±»å‹ä½“æ“å’Œé¢å¤–é…ç½® æ¨¡å—åŒ– å¤©ç„¶æ¨¡å—åŒ–ï¼Œæ¯ä¸ª Store å°±æ˜¯ä¸€ä¸ªæ¨¡å— éœ€è¦é€šè¿‡ modules é€‰é¡¹é…ç½®ï¼ŒåµŒå¥—è¾ƒæ·± ä»£ç ç®€æ´åº¦ æé«˜ï¼Œæ¨¡æ¿ä»£ç å°‘ï¼Œå¿ƒæ™ºè´Ÿæ‹…ä½ è¾ƒä½ï¼Œæ¦‚å¿µå¤šï¼Œæ¨¡æ¿ä»£ç å¤š Vue 3 å…¼å®¹æ€§ å®Œç¾å¥‘åˆï¼Œä¸º Composition API è®¾è®¡ è¾ƒå¥½ï¼Œä½†è®¾è®¡ç†å¿µæ›´åå‘ Options API å¯¹äºæ–°çš„ Vue 3 é¡¹ç›®ï¼Œç­”æ¡ˆæ˜¯æ˜ç¡®çš„ï¼šPinia æ˜¯æ›´ç°ä»£ã€æ›´ç®€æ´ã€æ›´å¼ºå¤§çš„é€‰æ‹©ã€‚ ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:5:0","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"å…­ã€ç»“è¯­ Pinia ä»¥å…¶ä¼˜é›…çš„è®¾è®¡å’Œå‡ºè‰²çš„å¼€å‘ä½“éªŒï¼ŒçœŸæ­£åœ°ç®€åŒ–äº† Vue çš„çŠ¶æ€ç®¡ç†ã€‚å®ƒä¸ä»…è§£å†³äº† Vuex çš„è®¸å¤šç—›ç‚¹ï¼Œè¿˜å®Œç¾èå…¥äº† Vue 3 çš„ç”Ÿæ€ç³»ç»Ÿã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å°è¯•è¿‡ï¼Œä¸å¦¨åœ¨ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­æ‹¥æŠ± Piniaï¼Œç›¸ä¿¡å®ƒä¼šç»™ä½ å¸¦æ¥æƒŠå–œã€‚ ","date":"2025-08-03","objectID":"/blog/posts/vue-pina-post/:6:0","tags":["Pinia","Vue","å‰ç«¯"],"title":"Vue 3 çŠ¶æ€ç®¡ç†ç»ˆææŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š Pinia","uri":"/blog/posts/vue-pina-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":" åœ¨å¾®æœåŠ¡æ¶æ„çš„æµªæ½®ä¸­ï¼ŒæœåŠ¡çš„åŠ¨æ€ç®¡ç†å’Œé…ç½®çš„é›†ä¸­åŒ–æˆä¸ºäº†å¼€å‘è€…å¿…é¡»é¢å¯¹çš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚æ­¤æ—¶ï¼ŒNacos å¦‚åŒç‘å£«å†›åˆ€ä¸€èˆ¬ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¼˜é›…è€Œå¼ºå¤§çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œæ·±å…¥ç†è§£ Nacos çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶å®æˆ˜æ¼”ç¤ºå¦‚ä½•å°†å…¶æ— ç¼é›†æˆåˆ° Spring Cloud é¡¹ç›®ä¸­ã€‚ ","date":"2025-08-01","objectID":"/blog/posts/spring-nacos-post/:0:0","tags":["Nacos","Spring","Spring Cloud","åç«¯"],"title":"æ·±å…¥æµ…å‡º Spring Cloud Nacosï¼šä¸€ç«™å¼æå®šæœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†","uri":"/blog/posts/spring-nacos-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ä¸€ã€Nacos æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆé€‰æ‹©å®ƒï¼Ÿ Nacos (Dynamic Naming and Configuration Service) æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒåœ¨ä¸€ä¸ªé¡¹ç›®é‡ŒåŒæ—¶æ‰®æ¼”äº†ä¸¤ä¸ªå…³é”®è§’è‰²ï¼šæœåŠ¡æ³¨å†Œä¸­å¿ƒ å’Œ é…ç½®ä¸­å¿ƒã€‚ é€‰æ‹© Nacos çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š åŠŸèƒ½åˆä¸€ï¼šæ— éœ€å†åŒæ—¶ç»´æŠ¤ Eureka/Consul å’Œ Spring Cloud Config ä¸¤å¥—ç³»ç»Ÿï¼ŒNacos ä¸€ç«™å¼æå®šã€‚ çµæ´»çš„æ¨¡å¼ï¼šåŒæ—¶æ”¯æŒ APï¼ˆé«˜å¯ç”¨ï¼‰å’Œ CPï¼ˆé«˜ä¸€è‡´æ€§ï¼‰æ¨¡å¼ï¼Œä½ å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯åœ¨æœåŠ¡å‘ç°ä¸Šçµæ´»åˆ‡æ¢ï¼Œæ»¡è¶³ä¸åŒéœ€æ±‚ã€‚ åŠ¨æ€é…ç½®ï¼Œå®æ—¶ç”Ÿæ•ˆï¼šä¿®æ”¹é…ç½®åï¼Œåº”ç”¨æ— éœ€é‡å¯å³å¯æ„ŸçŸ¥å˜åŒ–ï¼Œæå¤§æå‡äº†è¿ç»´æ•ˆç‡ã€‚ å¼ºå¤§çš„æ§åˆ¶å°ï¼šæä¾›ç¾è§‚æ˜“ç”¨çš„å¯è§†åŒ–ç•Œé¢ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç›‘æ§æœåŠ¡çŠ¶æ€ã€ç®¡ç†é…ç½®ã€‚ æœåŠ¡å¥åº·æ£€æŸ¥ï¼šèƒ½è‡ªåŠ¨æ¢æµ‹æœåŠ¡å®ä¾‹çš„å¥åº·çŠ¶å†µï¼Œå¹¶æ™ºèƒ½åœ°æ‘˜é™¤ä¸å¥åº·çš„å®ä¾‹ï¼Œä¿éšœç³»ç»Ÿæ•´ä½“çš„ç¨³å®šæ€§ã€‚ ","date":"2025-08-01","objectID":"/blog/posts/spring-nacos-post/:1:0","tags":["Nacos","Spring","Spring Cloud","åç«¯"],"title":"æ·±å…¥æµ…å‡º Spring Cloud Nacosï¼šä¸€ç«™å¼æå®šæœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†","uri":"/blog/posts/spring-nacos-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"äºŒã€Nacos å®æˆ˜ï¼šé›†æˆ Spring Cloud æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…¸å‹çš„ Spring Cloud é¡¹ç›®ï¼Œçœ‹çœ‹é›†æˆ Nacos æœ‰å¤šç®€å•ã€‚ ","date":"2025-08-01","objectID":"/blog/posts/spring-nacos-post/:2:0","tags":["Nacos","Spring","Spring Cloud","åç«¯"],"title":"æ·±å…¥æµ…å‡º Spring Cloud Nacosï¼šä¸€ç«™å¼æå®šæœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†","uri":"/blog/posts/spring-nacos-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"2.1 ä½œä¸ºæœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­å¿ƒ ç›®æ ‡ï¼šè®©æˆ‘ä»¬çš„å¾®æœåŠ¡è‡ªåŠ¨æ³¨å†Œåˆ° Nacosï¼Œå¹¶ä¸”èƒ½å¤Ÿäº’ç›¸å‘ç°ã€‚ ç¬¬ä¸€æ­¥ï¼šæ·»åŠ  Maven ä¾èµ– åœ¨ä½ çš„ pom.xml æ–‡ä»¶ä¸­ï¼Œå¼•å…¥ nacos-discovery çš„ starterã€‚ \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos-discovery\u003c/artifactId\u003e \u003c/dependency\u003e ç¬¬äºŒæ­¥ï¼šé…ç½® Nacos æœåŠ¡å™¨åœ°å€ åœ¨ application.yml ä¸­ï¼ŒæŒ‡å®š Nacos çš„åœ°å€ã€‚ spring: application: # ä¸ºä½ çš„æœåŠ¡èµ·ä¸€ä¸ªåå­— name: order-service cloud: nacos: discovery: # Nacos Server çš„åœ°å€ server-addr: 127.0.0.1:8848 ç¬¬ä¸‰æ­¥ï¼šåœ¨å¯åŠ¨ç±»ä¸Šå¼€å¯æœåŠ¡å‘ç° åœ¨ Spring Boot çš„ä¸»å¯åŠ¨ç±»ä¸Šæ·»åŠ  @EnableDiscoveryClient æ³¨è§£ã€‚ @SpringBootApplication @EnableDiscoveryClient // å£°æ˜è¿™æ˜¯ä¸€ä¸ªNacoså®¢æˆ·ç«¯ public class ServiceApplication { public static void main(String[] args) { SpringApplication.run(ServiceApplication.class, args); } } å¯åŠ¨åº”ç”¨åï¼Œä½ å°±å¯ä»¥åœ¨ Nacos æ§åˆ¶å°çš„ â€œæœåŠ¡ç®¡ç†â€ -\u003e â€œæœåŠ¡åˆ—è¡¨â€ ä¸­çœ‹åˆ°åä¸º order-service çš„æœåŠ¡å·²ç»æˆåŠŸæ³¨å†Œäº†ï¼ ","date":"2025-08-01","objectID":"/blog/posts/spring-nacos-post/:2:1","tags":["Nacos","Spring","Spring Cloud","åç«¯"],"title":"æ·±å…¥æµ…å‡º Spring Cloud Nacosï¼šä¸€ç«™å¼æå®šæœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†","uri":"/blog/posts/spring-nacos-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"2.2 ä½œä¸ºç»Ÿä¸€é…ç½®ä¸­å¿ƒ ç›®æ ‡ï¼šå°†åº”ç”¨çš„é…ç½®ä¿¡æ¯ä»ä»£ç ä¸­æŠ½ç¦»ï¼Œäº¤ç”± Nacos ç»Ÿä¸€ç®¡ç†ã€‚ ç¬¬ä¸€æ­¥ï¼šæ·»åŠ  Maven ä¾èµ– åŒæ ·ï¼Œåœ¨ pom.xml ä¸­å¼•å…¥ nacos-config çš„ starterã€‚ \u003cdependency\u003e \u003cgroupId\u003ecom.alibaba.cloud\u003c/groupId\u003e \u003cartifactId\u003espring-cloud-starter-alibaba-nacos-config\u003c/artifactId\u003e \u003c/dependency\u003e ç¬¬äºŒæ­¥ï¼šåˆ›å»º bootstrap.yml æ³¨æ„ï¼šé…ç½®ä¸­å¿ƒçš„é…ç½®éœ€è¦ä¼˜å…ˆäº application.yml åŠ è½½ï¼Œå› æ­¤å¿…é¡»å†™åœ¨ bootstrap.yml æ–‡ä»¶ä¸­ã€‚ spring: application: # åŒæ ·éœ€è¦æŒ‡å®šæœåŠ¡åï¼ŒNacosä¼šæ ¹æ®å®ƒæ¥æŸ¥æ‰¾é…ç½® name: user-service cloud: nacos: config: server-addr: 127.0.0.1:8848 # æŒ‡å®šé…ç½®æ–‡ä»¶æ ¼å¼ file-extension: yaml ç¬¬ä¸‰æ­¥ï¼šåœ¨ Nacos æ§åˆ¶å°åˆ›å»ºé…ç½® ç™»å½• Nacos æ§åˆ¶å°ï¼Œè¿›å…¥ â€œé…ç½®ç®¡ç†â€ -\u003e â€œé…ç½®åˆ—è¡¨â€ã€‚ ç‚¹å‡» â€œ+â€ å·åˆ›å»ºæ–°é…ç½®ã€‚ å¡«å†™ Data IDï¼š user-service.yaml (æ ¼å¼é€šå¸¸ä¸º ${spring.application.name}.${file-extension}) é€‰æ‹©é…ç½®æ ¼å¼ä¸º YAMLã€‚ åœ¨â€œé…ç½®å†…å®¹â€ä¸­è¾“å…¥ ï¼š user: name: CoderWang age: 25 ç‚¹å‡»â€œå‘å¸ƒâ€ã€‚ ç¬¬å››æ­¥ï¼šåœ¨ä»£ç ä¸­åŠ¨æ€è·å–é…ç½® ä½¿ç”¨ @Value æ³¨è§£è¯»å–é…ç½®ï¼Œå¹¶æ·»åŠ  @RefreshScope æ³¨è§£ä»¥æ”¯æŒé…ç½®çš„åŠ¨æ€åˆ·æ–°ã€‚ @RestController @RefreshScope // è¿™ä¸ªæ³¨è§£æ˜¯å®ç°é…ç½®åŠ¨æ€åˆ·æ–°çš„å…³é”®ï¼ public class UserController { @Value(\"${user.name}\") private String userName; @GetMapping(\"/user/name\") public String getUserName() { // è¿”å›ä»Nacosè·å–çš„ç”¨æˆ·å return \"Current user name is: \" + userName; } } ç°åœ¨ï¼Œå¯åŠ¨åº”ç”¨å¹¶è®¿é—® /user/nameã€‚ç„¶åå°è¯•åœ¨ Nacos æ§åˆ¶å°ä¿®æ”¹ user.name çš„å€¼å¹¶å‘å¸ƒï¼Œå†æ¬¡è®¿é—®è¯¥æ¥å£ï¼Œä½ ä¼šå‘ç°æ— éœ€é‡å¯åº”ç”¨ï¼Œè¿”å›çš„å€¼å·²ç»æ›´æ–°äº†ï¼ ","date":"2025-08-01","objectID":"/blog/posts/spring-nacos-post/:2:2","tags":["Nacos","Spring","Spring Cloud","åç«¯"],"title":"æ·±å…¥æµ…å‡º Spring Cloud Nacosï¼šä¸€ç«™å¼æå®šæœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†","uri":"/blog/posts/spring-nacos-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ä¸‰ã€Nacos è¿›é˜¶ç‰¹æ€§ å‘½åç©ºé—´ (Namespace)ï¼šè¿™æ˜¯è¿›è¡Œç¯å¢ƒéš”ç¦»çš„æ ¸å¿ƒã€‚ä½ å¯ä»¥ä¸º devã€testã€prod ç­‰ä¸åŒç¯å¢ƒåˆ›å»ºä¸åŒçš„å‘½åç©ºé—´ï¼Œå®ç°é…ç½®å’ŒæœåŠ¡çš„å¤©ç„¶éš”ç¦»ï¼Œéå¸¸å®‰å…¨ã€‚ é…ç½®åˆ†ç»„ (Group)ï¼šå½“ä¸€ä¸ªé¡¹ç›®å†…æœ‰å¤šç§ä¸åŒä¸šåŠ¡çš„é…ç½®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Group æ¥è¿›è¡Œé€»è¾‘åˆ’åˆ†ï¼Œä½¿é…ç½®ç®¡ç†æ›´åŠ æ¸…æ™°ã€‚ æœåŠ¡å¥åº·æ£€æŸ¥ï¼šNacos Client ä¼šå®šæœŸå‘ Server å‘é€å¿ƒè·³ï¼Œå‘ŠçŸ¥è‡ªå·±â€œè¿˜æ´»ç€â€ã€‚å¦‚æœ Server é•¿æ—¶é—´æœªæ”¶åˆ°å¿ƒè·³ï¼Œå°±ä¼šå°†è¯¥å®ä¾‹æ ‡è®°ä¸ºä¸å¥åº·ï¼Œå¹¶ä»æœåŠ¡åˆ—è¡¨ä¸­ä¸´æ—¶å‰”é™¤ï¼Œä»è€Œé¿å…æµé‡æµå‘å·²å®•æœºçš„æœåŠ¡ï¼Œå®ç°æœåŠ¡è°ƒç”¨çš„é«˜å¯ç”¨ã€‚ ","date":"2025-08-01","objectID":"/blog/posts/spring-nacos-post/:3:0","tags":["Nacos","Spring","Spring Cloud","åç«¯"],"title":"æ·±å…¥æµ…å‡º Spring Cloud Nacosï¼šä¸€ç«™å¼æå®šæœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†","uri":"/blog/posts/spring-nacos-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"å››ã€æ€»ç»“ Nacos å‡­å€Ÿå…¶é›†æœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†äºä¸€èº«çš„å¼ºå¤§èƒ½åŠ›ï¼Œä»¥åŠä¸ Spring Cloud ç”Ÿæ€çš„æ— ç¼é›†æˆï¼Œå·²æˆä¸ºæ„å»ºç°ä»£åŒ–å¾®æœåŠ¡æ¶æ„çš„é¦–é€‰ç»„ä»¶ä¹‹ä¸€ã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†æœåŠ¡çš„æ²»ç†å’Œé…ç½®çš„ç»´æŠ¤ï¼Œè®©å¼€å‘è€…å¯ä»¥æ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ã€‚ ","date":"2025-08-01","objectID":"/blog/posts/spring-nacos-post/:4:0","tags":["Nacos","Spring","Spring Cloud","åç«¯"],"title":"æ·±å…¥æµ…å‡º Spring Cloud Nacosï¼šä¸€ç«™å¼æå®šæœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç†","uri":"/blog/posts/spring-nacos-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"æœ¬æ–‡å°†å¸¦ä½ ç³»ç»Ÿæ€§åœ°æ¢³ç† Spring æ¡†æ¶çš„æ ¸å¿ƒçŸ¥è¯†ï¼Œä»ä¸¤å¤§åŸºçŸ³ IoC å’Œ AOPï¼Œåˆ°ç°ä»£åŒ–çš„å¼€å‘åˆ©å™¨ Spring Bootï¼Œå†åˆ°åºå¤§çš„ Spring ç”Ÿæ€ï¼ŒåŠ©ä½ æ„å»ºå®Œæ•´çš„çŸ¥è¯†ä½“ç³»ã€‚","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":" åœ¨ Java çš„ä¸–ç•Œé‡Œï¼Œå¦‚æœä½ åªé€‰æ‹©ä¸€ä¸ªæ¡†æ¶æ¥å­¦ä¹ ï¼Œé‚£ç­”æ¡ˆå‡ ä¹æ¯«æ— ç–‘é—®æ˜¯ Springã€‚è‡ª 2003 å¹´è¯ç”Ÿä»¥æ¥ï¼Œå®ƒå¦‚åŒä¸€ä½æŠ€è‰ºç²¾æ¹›çš„å·¥åŒ ï¼Œå½»åº•é‡å¡‘äº† Java ä¼ä¸šçº§åº”ç”¨çš„å¼€å‘æ¨¡å¼ã€‚å®ƒä¼˜é›…åœ°è§£å†³äº†ä¼ ç»Ÿå¼€å‘ä¸­ä»¤äººå¤´ç–¼çš„ä»£ç è€¦åˆã€ç¬¨é‡è‡ƒè‚¿ç­‰é—®é¢˜ï¼Œæˆä¸ºäº† Java åç«¯å¼€å‘é¢†åŸŸå½“ä¹‹æ— æ„§çš„åŸºçŸ³ã€‚ æœ¬æ–‡å°†å¸¦ä½ è¿›è¡Œä¸€æ¬¡ Spring çš„æ·±åº¦ä¹‹æ—…ï¼Œä»å®ƒçš„æ ¸å¿ƒè®¾è®¡å“²å­¦å‡ºå‘ï¼Œé€æ­¥æ¢ç´¢å…¶å…³é”®æ¨¡å—ã€ç°ä»£åŒ–çš„å¼€å‘åˆ©å™¨ Spring Bootï¼Œä»¥åŠé‚£ä¸ªåºå¤§è€Œç¹è£çš„ç”Ÿæ€ç³»ç»Ÿã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:0:0","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ä¸€ã€ä¸ºä½• Spring èƒ½é•¿ç››ä¸è¡°ï¼Ÿä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿ Spring çš„æˆåŠŸå¹¶éå¶ç„¶ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå®ƒå§‹ç»ˆéµå¾ªç€ä¸€å¥—å…ˆè¿›çš„è®¾è®¡å“²å­¦ã€‚ Spring çš„ä¸¤å¤§çµé­‚åŸºçŸ³æ˜¯ï¼šä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ å’Œ é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ã€‚å‰è€…è´Ÿè´£è§£è€¦ç»„ä»¶ï¼Œåè€…è´Ÿè´£åˆ†ç¦»ä¸šåŠ¡å…³æ³¨ç‚¹ã€‚ è¿™å¥—ç»„åˆæ‹³å¸¦æ¥äº†ä¸‰å¤§æ˜¾è€Œæ˜“è§çš„ä¼˜åŠ¿ï¼š æè‡´çš„æ¾è€¦åˆæ¶æ„ï¼šé€šè¿‡æ§åˆ¶åè½¬ï¼ˆIoCï¼‰å®¹å™¨ï¼Œå¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»çš„ç®¡ç†æƒè¢«äº¤ç»™äº† Springã€‚å¼€å‘è€…ä¸å†æ˜¯ç»„ä»¶çš„â€œç”Ÿäº§è€…â€ï¼Œè€Œæ˜¯â€œæ¶ˆè´¹è€…â€ï¼Œåªéœ€å‘Šè¯‰ Spring â€œæˆ‘éœ€è¦ä»€ä¹ˆâ€ï¼ŒSpring å°±ä¼šåœ¨æ°å½“çš„æ—¶å€™æä¾›ç»™ä½ ã€‚è¿™å¤§å¤§é™ä½äº†ä»£ç é—´çš„è€¦åˆåº¦ã€‚ è½»é‡çº§ä¸éä¾µå…¥å¼è®¾è®¡ï¼šSpring æ ¸å¿ƒå®¹å™¨æœ¬èº«éå¸¸å°å·§ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä½ å¯ä»¥è‡ªç”±é€‰æ‹©ä½¿ç”¨ Spring çš„å“ªä¸ªéƒ¨åˆ†ã€‚ä½ çš„ä¸šåŠ¡å¯¹è±¡ï¼ˆPOJOï¼‰æ— éœ€ç»§æ‰¿ä»»ä½•ç‰¹å®šçš„ç±»æˆ–å®ç°ç‰¹å®šçš„æ¥å£ï¼Œä¿æŒäº†ä»£ç çš„çº¯ç²¹æ€§ã€‚ å¼ºå¤§çš„ç”Ÿæ€ä¸æ‰©å±•æ€§ï¼šSpring ä»æœªå›ºæ­¥è‡ªå°ã€‚å®ƒæ„å»ºäº†ä¸€ä¸ªåºå¤§çš„â€œå…¨å®¶æ¡¶â€ç”Ÿæ€ï¼Œä» Web å¼€å‘ï¼ˆSpring MVCï¼‰ã€æ•°æ®è®¿é—®ï¼ˆSpring Dataï¼‰åˆ°å¾®æœåŠ¡ï¼ˆSpring Cloudï¼‰ï¼Œå‡ ä¹è¦†ç›–äº†åç«¯å¼€å‘çš„æ‰€æœ‰åœºæ™¯ï¼Œä¸ºå¼€å‘è€…æä¾›äº†â€œä¸€ç«™å¼â€çš„è§£å†³æ–¹æ¡ˆã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:1:0","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"äºŒã€å‰–æ Spring çš„â€œå¿ƒè„â€ï¼šæ ¸å¿ƒæ¨¡å—è§£æ Spring æ¡†æ¶å¦‚åŒä¸€å¥—ç²¾å¯†çš„ç»„ä»¶åº“ï¼Œæ¯ä¸ªæ¨¡å—å„å¸å…¶èŒï¼Œåˆå¯æ— ç¼åä½œã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:2:0","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"2.1 Spring Coreï¼šæ§åˆ¶åè½¬ï¼ˆIoCï¼‰çš„é­”æ³•å®¹å™¨ è¿™æ˜¯ Spring çš„åŸºç¡€ã€‚IoCï¼ˆInversion of Controlï¼‰ï¼Œå³æ§åˆ¶åè½¬ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œè€Œä¾èµ–æ³¨å…¥ï¼ˆDependency Injection, DIï¼‰ æ˜¯å…¶æœ€ç»å…¸çš„å®ç°æ–¹å¼ã€‚ ç®€å•æ¥è¯´ï¼ŒIoC å°±åƒä¸€ä¸ªç¥é€šå¹¿å¤§çš„ç®¡å®¶ã€‚ ä»¥å‰ï¼Œä½ éœ€è¦æŸä¸ªå·¥å…·ï¼ˆå¯¹è±¡ï¼‰ï¼Œå¾—è‡ªå·±å»é€ ï¼ˆnew UserServiceImpl())ã€‚ç°åœ¨ï¼Œä½ åªéœ€è¦å‘Šè¯‰ç®¡å®¶ï¼ˆSpring IoC å®¹å™¨ï¼‰ä½ çš„éœ€æ±‚æ¸…å•ï¼Œç®¡å®¶ä¼šè´Ÿè´£å¸®ä½ æŠŠæ‰€æœ‰å·¥å…·å‡†å¤‡å¥½ï¼Œå¹¶åœ¨ä½ éœ€è¦æ—¶é€’åˆ°ä½ æ‰‹ä¸Šã€‚ // ä¼ ç»Ÿæ–¹å¼ï¼šä¸»åŠ¨åˆ›å»ºå¯¹è±¡ï¼Œè€¦åˆåº¦é«˜ UserService userService = new UserServiceImpl(); // Spring æ–¹å¼ï¼šä»å®¹å™¨ä¸­è·å–ï¼Œç”± Spring è´Ÿè´£å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ // æˆ‘ä»¬åªç®¡ä½¿ç”¨ï¼Œä¸ç®¡åˆ›å»º UserService userService = context.getBean(UserService.class); ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:2:1","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"2.2 Spring AOPï¼šä¼˜é›…åˆ†ç¦»æ¨ªåˆ‡å…³æ³¨ç‚¹ AOPï¼ˆAspect-Oriented Programmingï¼‰ï¼Œå³é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯ OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰çš„æœ‰åŠ›è¡¥å……ã€‚å®ƒå…è®¸æˆ‘ä»¬å°†é‚£äº›æ•£å¸ƒåœ¨å„ä¸ªä¸šåŠ¡é€»è¾‘ä¸­çš„â€œå…¬å…±ä»£ç â€æŠ½ç¦»å‡ºæ¥ï¼Œå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„â€œåˆ‡é¢â€ã€‚ è¿™äº›å…¬å…±ä»£ç å°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCross-cutting Concernsï¼‰ï¼Œæœ€å¸¸è§çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š æ—¥å¿—è®°å½•ï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰åè‡ªåŠ¨æ‰“å°å‡ºå…¥å‚å’Œè€—æ—¶ã€‚ äº‹åŠ¡ç®¡ç†ï¼šé€šè¿‡ä¸€ä¸ªæ³¨è§£ï¼ˆå¦‚ @Transactionalï¼‰å°±èƒ½è®©æ–¹æ³•æ•´ä½“è¿è¡Œåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚ æƒé™æ ¡éªŒï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰ç»Ÿä¸€æ£€æŸ¥ç”¨æˆ·æƒé™ã€‚ AOP è®©æˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç èƒ½æ›´ä¸“æ³¨äºæ ¸å¿ƒé€»è¾‘ï¼Œå˜å¾—æ›´åŠ çº¯ç²¹å’Œå¯ç»´æŠ¤ã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:2:2","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"2.3 Spring MVCï¼šç»å…¸çš„ Web å¼€å‘æ¡†æ¶ Spring MVC æ˜¯ä¸€ä¸ªåŸºäº MVC è®¾è®¡æ¨¡å¼çš„ Web æ¡†æ¶ï¼Œå®ƒé‡‡ç”¨å‰ç«¯æ§åˆ¶å™¨æ¨¡å¼ï¼ˆFront Controller Patternï¼‰ï¼Œå°†æ‰€æœ‰è¯·æ±‚éƒ½å…ˆäº¤ç»™ä¸€ä¸ªæ ¸å¿ƒçš„ DispatcherServlet æ¥åˆ†å‘ï¼Œæå¤§åœ°ç®€åŒ–äº† Web å¼€å‘ã€‚ å…¶æ ¸å¿ƒç»„ä»¶ååŒå·¥ä½œçš„æµç¨‹å¦‚ä¸‹ï¼š DispatcherServletï¼šæ¥æ”¶æ‰€æœ‰è¯·æ±‚ï¼Œæ˜¯æ•´ä¸ªæµç¨‹çš„â€œæ€»æŒ‡æŒ¥â€ã€‚ HandlerMappingï¼šæ ¹æ®è¯·æ±‚ URL æ‰¾åˆ°å¯¹åº”çš„ Controllerï¼ˆå¤„ç†å™¨ï¼‰ã€‚ Controllerï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè¿”å›ä¸€ä¸ª ModelAndView å¯¹è±¡ã€‚ ViewResolverï¼šæ ¹æ® Controller è¿”å›çš„è§†å›¾åï¼Œæ‰¾åˆ°å¯¹åº”çš„è§†å›¾ï¼ˆå¦‚ JSP, Thymeleaf æ¨¡æ¿ï¼‰ã€‚ æœ€ç»ˆï¼Œå°†æ¨¡å‹æ•°æ®æ¸²æŸ“åˆ°è§†å›¾ä¸Šï¼Œå¹¶è¿”å›ç»™ç”¨æˆ·ã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:2:3","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"ä¸‰ã€Spring Bootï¼šåŒ–ç¹ä¸ºç®€ï¼Œè®©å¼€å‘â€œé£â€èµ·æ¥ å°½ç®¡ Spring å·²ç»éå¸¸ä¼˜ç§€ï¼Œä½†å…¶ç¹ççš„ XML é…ç½®ä¹Ÿæ›¾åŠé€€è¿‡ä¸å°‘å¼€å‘è€…ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒSpring Boot æ¨ªç©ºå‡ºä¸–ã€‚ Spring Boot çš„æ ¸å¿ƒæ€æƒ³æ˜¯ â€œçº¦å®šä¼˜äºé…ç½®â€ï¼ˆConvention over Configurationï¼‰ã€‚ å®ƒå‡è®¾äº†å¤§å¤šæ•°å¼€å‘åœºæ™¯ä¸‹çš„æœ€ä½³å®è·µï¼Œå¹¶å°†å…¶ä½œä¸ºé»˜è®¤é…ç½®ã€‚å¼€å‘è€…ä¸å†éœ€è¦ç¼–å†™å¤§é‡çš„æ¨¡æ¿ä»£ç ï¼Œå¯ä»¥çœŸæ­£åšåˆ°â€œå¼€ç®±å³ç”¨â€ã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:3:0","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"3.1 Spring Boot çš„æ ¸å¿ƒç‰¹æ€§ è‡ªåŠ¨é…ç½®ï¼ˆAuto-configurationï¼‰ï¼šè¿™æ˜¯ Spring Boot çš„â€œé­”æ³•â€æ‰€åœ¨ã€‚å®ƒä¼šæ ¹æ®ä½ é¡¹ç›®ä¸­å¼•å…¥çš„ä¾èµ–ï¼Œè‡ªåŠ¨ä¸ºä½ é…ç½®å¥½ç›¸åº”çš„ Beanã€‚ä¾‹å¦‚ï¼Œåªè¦å¼•å…¥äº† spring-boot-starter-webï¼Œå®ƒå°±ä¼šè‡ªåŠ¨é…ç½®å¥½ Tomcat å’Œ Spring MVCã€‚ èµ·æ­¥ä¾èµ–ï¼ˆStarter Dependenciesï¼‰ï¼šå°†ä¸€ç±»åœºæ™¯æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–æ‰“åŒ…æˆä¸€ä¸ª starterã€‚ä¾‹å¦‚ï¼Œä½ éœ€è¦å¼€å‘ Web åº”ç”¨ï¼Œåªéœ€å¼•å…¥ spring-boot-starter-webï¼Œæ‰€æœ‰ç›¸å…³çš„ä¾èµ–ï¼ˆå¦‚ Tomcat, Jackson, Spring MVCï¼‰å°±éƒ½è‡ªåŠ¨åŒ…å«äº†ï¼Œå½»åº•å‘Šåˆ«äº†ç¹ççš„ä¾èµ–ç®¡ç†ã€‚ å†…åµŒå¼æœåŠ¡å™¨ï¼šæ— éœ€å†å°†åº”ç”¨æ‰“åŒ…æˆ WAR åŒ…éƒ¨ç½²åˆ°å¤–éƒ¨çš„ Tomcatã€‚Spring Boot å†…ç½®äº† Tomcat, Jetty, Undertow ç­‰æœåŠ¡å™¨ï¼Œå¯ä»¥ç›´æ¥å°†åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ï¼Œé€šè¿‡ java -jar å‘½ä»¤ä¸€é”®å¯åŠ¨ã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:3:1","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"3.2 å¿«é€Ÿå…¥é—¨ï¼š3 æ­¥åˆ›å»º RESTful æ¥å£ æ„Ÿå—ä¸€ä¸‹ Spring Boot çš„æç®€ä¹‹ç¾ï¼š æ·»åŠ  spring-boot-starter-web ä¾èµ–ï¼š \u003cdependency\u003e \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e \u003cartifactId\u003espring-boot-starter-web\u003c/artifactId\u003e \u003c/dependency\u003e ç¼–å†™ä¸€ä¸ªä¸»å¯åŠ¨ç±»ï¼š @SpringBootApplication // ä¸€ä¸ªæ³¨è§£é¡¶è¿‡å»ä¸‰ä¸ª public class DemoApplication { public static void main(String[] args) { SpringApplication.run(DemoApplication.class, args); } } å®ç°ä¸€ä¸ªæ§åˆ¶å™¨ï¼š @RestController // å£°æ˜è¿™æ˜¯ä¸€ä¸ªRESTfulæ§åˆ¶å™¨ public class HelloController { @GetMapping(\"/hello\") // æ˜ å°„HTTP GETè¯·æ±‚åˆ° /hello è·¯å¾„ public String hello() { return \"Hello, Spring Boot!\"; } } å¯åŠ¨åº”ç”¨ï¼Œè®¿é—® http://localhost:8080/helloï¼Œå°±è¿™ä¹ˆç®€å•ï¼ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:3:2","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"å››ã€Spring çš„â€œå…¨å®¶æ¡¶â€ï¼šåºå¤§çš„ç”Ÿæ€ç³»ç»Ÿ Spring çš„å¼ºå¤§è¿œä¸æ­¢äºæ­¤ï¼Œå®ƒçš„ç”Ÿæ€ç³»ç»Ÿå‡ ä¹æ¶µç›–äº†è½¯ä»¶å¼€å‘çš„æ‰€æœ‰æ–¹é¢ã€‚ Spring Cloudï¼šæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿå’Œå¾®æœåŠ¡æ¶æ„çš„â€œç‘å£«å†›åˆ€â€ï¼Œæä¾›æœåŠ¡å‘ç°ã€é…ç½®ä¸­å¿ƒã€ç½‘å…³ç­‰å…¨å¥—è§£å†³æ–¹æ¡ˆã€‚ Spring Dataï¼šç®€åŒ–æ•°æ®è®¿é—®å±‚çš„å¼€å‘ï¼Œæ— è®ºæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼ˆJPAï¼‰ã€NoSQLï¼ˆMongoDB, Redisï¼‰éƒ½èƒ½ç”¨ä¸€å¥—ç»Ÿä¸€çš„ã€ä¼˜é›…çš„ Repository æ¨¡å¼æ¥æ“ä½œã€‚ Spring Securityï¼šæä¾›å¼ºå¤§è€Œçµæ´»çš„è®¤è¯å’ŒæˆæƒåŠŸèƒ½ï¼Œæ˜¯ä¿æŠ¤ä½ åº”ç”¨å®‰å…¨çš„æ ‡å‡†é€‰æ‹©ã€‚ Spring Batchï¼šç”¨äºå¤„ç†å¤§é‡æ•°æ®çš„é«˜æ•ˆæ‰¹å¤„ç†æ¡†æ¶ã€‚ Spring Integrationï¼šå®ç°äº†ç»å…¸çš„â€œä¼ä¸šé›†æˆæ¨¡å¼â€ï¼Œç”¨äºè¿æ¥ä¸åŒçš„ç³»ç»Ÿå’Œåº”ç”¨ã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:4:0","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"äº”ã€é¿å‘æŒ‡å—ä¸æœ€ä½³å®è·µ è¦æƒ³ç”¨å¥½ Springï¼Œé™¤äº†äº†è§£å…¶åŸç†ï¼Œè¿˜éœ€è¦éµå¾ªä¸€äº›ç¤¾åŒºå…¬è®¤çš„æœ€ä½³å®è·µã€‚ ä¾èµ–æ³¨å…¥æ–¹å¼é€‰æ‹©ï¼š ä¼˜å…ˆä½¿ç”¨æ„é€ å™¨æ³¨å…¥ã€‚å®ƒèƒ½ä¿è¯ä¾èµ–åœ¨å¯¹è±¡åˆ›å»ºæ—¶å°±å·²å°±ç»ªï¼Œé¿å…äº† NullPointerExceptionï¼Œä¹Ÿä¾¿äºç¼–å†™å•å…ƒæµ‹è¯•ã€‚å­—æ®µæ³¨å…¥è™½ç„¶ä»£ç æœ€å°‘ï¼Œä½†æœ€ä¸æ¨èã€‚ é¿å…å¾ªç¯ä¾èµ–ï¼š å½“ A ä¾èµ– Bï¼ŒåŒæ—¶ B åˆä¾èµ– A æ—¶ï¼Œå°±ä¼šäº§ç”Ÿå¾ªç¯ä¾èµ–ã€‚è¿™é€šå¸¸æ˜¯è®¾è®¡ä¸è‰¯çš„ä¿¡å·ï¼Œåº”é€šè¿‡é‡æ„ä»£ç æ¥è§£å†³ï¼Œè€Œä¸æ˜¯ä¾èµ– Spring çš„ä¸‰çº§ç¼“å­˜æ¥â€œåŒ…å®¹â€å®ƒã€‚ äº‹åŠ¡ç®¡ç†æ³¨æ„äº‹é¡¹ï¼š @Transactional æ³¨è§£å¿…é¡»åº”ç”¨äº public æ–¹æ³•ä¸Šæ‰èƒ½ç”Ÿæ•ˆã€‚ è¦è­¦æƒ•äº‹åŠ¡æ–¹æ³•å†…éƒ¨çš„ try-catch å—ã€‚å¦‚æœå¼‚å¸¸è¢«ä½ â€œåƒæ‰â€äº†ï¼Œäº‹åŠ¡å¯èƒ½ä¸ä¼šæŒ‰é¢„æœŸå›æ»šã€‚ æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼š åˆç†ä½¿ç”¨ Bean çš„ä½œç”¨åŸŸï¼ˆScopeï¼‰ã€‚å¤§éƒ¨åˆ† Bean åº”è¯¥æ˜¯å•ä¾‹ï¼ˆSingletonï¼‰ï¼Œå¯¹äºæœ‰çŠ¶æ€çš„ Bean åº”è°¨æ…é€‰æ‹© prototype æˆ– request ä½œç”¨åŸŸã€‚ ä½¿ç”¨ @Lazy æ³¨è§£å®ç°æ‡’åŠ è½½ï¼Œå»¶è¿Ÿéå¿…è¦ Bean çš„åˆå§‹åŒ–ã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:5:0","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":["æŠ€æœ¯åˆ†äº«"],"content":"å…­ã€æ€»ç»“ä¸å±•æœ› ä»ä¸€ä¸ªé¢ è¦†ä¼ ç»Ÿ Java EE å¼€å‘çš„è½»é‡çº§å®¹å™¨ï¼Œåˆ°å¦‚ä»Šæç¹å¶èŒ‚ã€æ— æ‰€ä¸åŒ…çš„ç”Ÿæ€å¸å›½ï¼ŒSpring å‡­å€Ÿå…¶ä¼˜é›…çš„è®¾è®¡ã€å¼ºå¤§çš„åŠŸèƒ½å’Œæ´»è·ƒçš„ç¤¾åŒºï¼Œæ—©å·²æˆä¸º Java å¼€å‘é¢†åŸŸçš„äº‹å®æ ‡å‡†ã€‚ éšç€ Spring 6 å’Œ Spring Boot 3 çš„å‘å¸ƒï¼Œæ¡†æ¶å…¨é¢æ‹¥æŠ± Java 17ï¼Œå¹¶ä¸º GraalVM åŸç”Ÿé•œåƒå’Œè™šæ‹Ÿçº¿ç¨‹ç­‰å‰æ²¿æŠ€æœ¯æä¾›äº†æ”¯æŒï¼ŒæŒç»­å¼•é¢†ç€ Java æŠ€æœ¯çš„å‘å±•æ½®æµã€‚ å¯¹äºæ¯ä¸€ä½ Java å¼€å‘è€…è€Œè¨€ï¼Œæ·±å…¥ç†è§£ Spring çš„æ ¸å¿ƒåŸç†ï¼Œå¹¶ç†Ÿç»ƒè¿ç”¨å…¶ç”Ÿæ€å·¥å…·ï¼Œæ— ç–‘æ˜¯æå‡ä¸ªäººæŠ€æœ¯å®åŠ›ã€æ„å»ºé«˜è´¨é‡åº”ç”¨ç³»ç»Ÿçš„å¿…ç»ä¹‹è·¯ã€‚ ","date":"2024-10-27","objectID":"/blog/posts/spring-springboot-post/:6:0","tags":["Java","Spring","Spring Boot","åç«¯"],"title":"æ·±å…¥æµ…å‡º Springï¼šä»æ ¸å¿ƒåŸç†åˆ° Spring Boot å®æˆ˜ï¼Œä¸€ç¯‡é€šå…³ï¼","uri":"/blog/posts/spring-springboot-post/"},{"categories":null,"content":"äº†è§£æ›´å¤šå…³äºMonkeyKeå’Œè¿™ä¸ªåšå®¢çš„æ•…äº‹ã€‚","date":"2023-08-26","objectID":"/blog/about/","tags":null,"title":"å…³äºæˆ‘","uri":"/blog/about/"},{"categories":null,"content":"ğŸ‘‹ å¤§å®¶å¥½ï¼ æˆ‘æ˜¯ MonkeyKeï¼Œä¸€åçƒ­çˆ±æ¢ç´¢çš„å¼€å‘è€…ã€‚ æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººåšå®¢ â€œçŒ¿å®¢éšç¬”â€ã€‚æˆ‘åˆ›å»ºè¿™ä¸ªç©ºé—´æ˜¯ä¸ºäº†ï¼š è®°å½• æˆ‘åœ¨æŠ€æœ¯å­¦ä¹ é“è·¯ä¸Šçš„å¿ƒå¾—å’Œä½“ä¼šã€‚ åˆ†äº« ä¸€äº›æœ‰è¶£çš„é¡¹ç›®å’Œå®ç”¨çš„å·¥å…·ã€‚ æ€è€ƒ æŠ€æœ¯ä¹‹å¤–çš„ç”Ÿæ´»å’Œæ„Ÿæ‚Ÿã€‚ ","date":"2023-08-26","objectID":"/blog/about/:1:0","tags":null,"title":"å…³äºæˆ‘","uri":"/blog/about/"},{"categories":null,"content":"æˆ‘çš„æŠ€æœ¯æ ˆ å‰ç«¯: Vue.js, React,Uniappâ€¦ åç«¯: Node.js, Go,Java,Scala,SpringBoot,SpringCloudâ€¦ æ•°æ®åº“: MongoDB, MySQLâ€¦ å¤§æ•°æ®ï¼šHive,Hadoop,Spark,Flinkâ€¦ ","date":"2023-08-26","objectID":"/blog/about/:1:1","tags":null,"title":"å…³äºæˆ‘","uri":"/blog/about/"},{"categories":null,"content":"è”ç³»æˆ‘ æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰¾åˆ°æˆ‘ï¼š GitHub: monkeyke Email: contact@monkeyke.com æ„Ÿè°¢æ‚¨çš„æ¥è®¿ï¼ ","date":"2023-08-26","objectID":"/blog/about/:1:2","tags":null,"title":"å…³äºæˆ‘","uri":"/blog/about/"}]